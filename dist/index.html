<!DOCTYPE html>
<html lang="zh-Hans">
  <head>
    <meta
      name="viewport"
      content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1"
    />
    <meta charset="utf-8" />
    <link rel="stylesheet" href="./solitaire.css" />
    <link rel="stylesheet" href="./main.css" />
    <title>Solitaire</title>
  </head>
  <body>
    <div class="container">
      <button onclick="start('canvas')" class="load">Start(Canvas)</button>
      <button onclick="start('svg')" class="load">Start(SVG)</button>
      <div id="stage"></div>
    </div>
    <script src="Solitaire.js"></script>
    <script>
      async function start(domtype) {
        const stage = document.querySelector("#stage");
        const btns = document.querySelectorAll(".load");
        btns.forEach((btn) => {
          btn.style.display = "none";
        });
        stage.style.display = "block";
        if (
          /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(
            navigator.userAgent
          )
        ) {
          await stage.requestFullscreen();
          await screen.orientation.lock("landscape");
          await new Promise((resolve) => setTimeout(resolve, 1000));
        }
        const solitaire = new Solitaire(stage, domtype);
        await solitaire.init();
        window.solitaire = solitaire;
      }
    </script>
  </body>
</html>
